(function(e){function t(t){for(var n,s,i=t[0],l=t[1],u=t[2],c=0,d=[];c<i.length;c++)s=i[c],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&d.push(r[s][0]),r[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);f&&f(t);while(d.length)d.shift()();return o.push.apply(o,u||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],n=!0,s=1;s<a.length;s++){var i=a[s];0!==r[i]&&(n=!1)}n&&(o.splice(t--,1),e=l(l.s=a[0]))}return e}var n={},s={app:0},r={app:0},o=[];function i(e){return l.p+"js/"+({}[e]||e)+"."+{"chunk-038859b7":"f7632ef8","chunk-2d20e882":"adc724cc","chunk-e6dcbd2a":"2362f3b5","chunk-d9e74846":"4095c1e8","chunk-df5ae5f0":"1286d43a","chunk-2bf849d8":"d4445f6b"}[e]+".js"}function l(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.e=function(e){var t=[],a={"chunk-d9e74846":1,"chunk-df5ae5f0":1};s[e]?t.push(s[e]):0!==s[e]&&a[e]&&t.push(s[e]=new Promise((function(t,a){for(var n="css/"+({}[e]||e)+"."+{"chunk-038859b7":"31d6cfe0","chunk-2d20e882":"31d6cfe0","chunk-e6dcbd2a":"31d6cfe0","chunk-d9e74846":"d3e3477c","chunk-df5ae5f0":"d3e3477c","chunk-2bf849d8":"31d6cfe0"}[e]+".css",r=l.p+n,o=document.getElementsByTagName("link"),i=0;i<o.length;i++){var u=o[i],c=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(c===n||c===r))return t()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){u=d[i],c=u.getAttribute("data-href");if(c===n||c===r)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var n=t&&t.target&&t.target.src||r,o=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=n,delete s[e],f.parentNode.removeChild(f),a(o)},f.href=r;var p=document.getElementsByTagName("head")[0];p.appendChild(f)})).then((function(){s[e]=0})));var n=r[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise((function(t,a){n=r[e]=[t,a]}));t.push(n[2]=o);var u,c=document.createElement("script");c.charset="utf-8",c.timeout=120,l.nc&&c.setAttribute("nonce",l.nc),c.src=i(e);var d=new Error;u=function(t){c.onerror=c.onload=null,clearTimeout(f);var a=r[e];if(0!==a){if(a){var n=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+n+": "+s+")",d.name="ChunkLoadError",d.type=n,d.request=s,a[1](d)}r[e]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:c})}),12e4);c.onerror=c.onload=u,document.head.appendChild(c)}return Promise.all(t)},l.m=e,l.c=n,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(a,n,function(t){return e[t]}.bind(null,n));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/",l.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var f=c;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"13ad":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("0fb7"),a("450d");var n=a("f529"),s=a.n(n),r=(a("9e1f"),a("6ed5")),o=a.n(r),i=(a("cbb5"),a("8bbc")),l=a.n(i),u=(a("425f"),a("4105")),c=a.n(u),d=(a("1f1a"),a("4e4b")),f=a.n(d),p=(a("acb6"),a("c673")),m=a.n(p),h=(a("aaa5"),a("a578")),g=a.n(h),b=(a("adec"),a("3d2d")),v=a.n(b),y=(a("b8e0"),a("a4c4")),w=a.n(y),k=(a("a7cc"),a("df33")),_=a.n(k),x=(a("5466"),a("ecdf")),C=a.n(x),F=(a("38a0"),a("ad41")),D=a.n(F),S=(a("10cb"),a("f3ad")),$=a.n(S),I=(a("1951"),a("eedf")),R=a.n(I),U=(a("be4f"),a("896a")),E=a.n(U),T=(a("e2f3"),a("06f9")),P=a.n(T),q=(a("672e"),a("101e")),j=a.n(q),O=(a("5e32"),a("6721")),L=a.n(O),V=(a("0c67"),a("299c")),N=a.n(V),A=(a("9c49"),a("6640")),M=a.n(A),B=(a("d2ac"),a("95b0")),z=a.n(B),H=(a("cb70"),a("b370")),J=a.n(H),W=(a("b84d"),a("c216")),K=a.n(W),Y=(a("8f24"),a("76b9")),Z=a.n(Y),G=(a("e612"),a("dd87")),Q=a.n(G),X=(a("075a"),a("72aa")),ee=a.n(X),te=(a("4ca3"),a("443e")),ae=a.n(te),ne=(a("06f1"),a("6ac9")),se=a.n(ne),re=(a("a335"),a("c0bb")),oe=a.n(re),ie=(a("eca7"),a("3787")),le=a.n(ie),ue=(a("560b"),a("dcdc")),ce=a.n(ue),de=(a("de31"),a("c69e")),fe=a.n(de),pe=(a("a769"),a("5cc3")),me=a.n(pe),he=(a("bd49"),a("18ff")),ge=a.n(he),be=(a("960d"),a("defb")),ve=a.n(be),ye=(a("a673"),a("7b31")),we=a.n(ye),ke=(a("8bd8"),a("4cb2")),_e=a.n(ke),xe=(a("ce18"),a("f58e")),Ce=a.n(xe),Fe=(a("6611"),a("e772")),De=a.n(Fe),Se=(a("f4f9"),a("c2cc")),$e=a.n(Se),Ie=(a("7a0f"),a("0f6c")),Re=a.n(Ie),Ue=(a("f225"),a("89a9")),Ee=a.n(Ue),Te=(a("826b"),a("c263")),Pe=a.n(Te),qe=(a("fe07"),a("6ac5")),je=a.n(qe),Oe=(a("b5d8"),a("f494")),Le=a.n(Oe),Ve=(a("b0ee"),a("d180")),Ne=a.n(Ve),Ae=(a("e960"),a("b35b")),Me=a.n(Ae),Be=(a("cadf"),a("551c"),a("f751"),a("097d"),a("2b0e")),ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},He=[],Je=a("2877"),We={},Ke=Object(Je["a"])(We,ze,He,!1,null,null,null),Ye=Ke.exports,Ze=a("8c4f"),Ge=a("a55b"),Qe=a("bb51"),Xe=a("ee96"),et=a("5c9c");Be["default"].use(Ze["a"]);var tt=new Ze["a"]({routes:[{path:"/",name:"Login",component:Ge["default"],hidden:!0},{path:"/signUp",name:"SignUp",component:et["default"],hidden:!0},{path:"/home",name:"Home",component:Qe["default"],hidden:!0,meta:{roles:["admin","user"]},children:[{path:"/userInfo",name:"个人中心",component:Xe["default"],hidden:!0}]},{path:"*",redirect:"/home"}]}),at=a("2f62");Be["default"].use(at["a"]);new Date;var nt=new at["a"].Store({state:{routes:[],currentUser:JSON.parse(window.sessionStorage.getItem("user"))},mutations:{INIT_CURRENTUSER:function(e,t){e.currentUser=t},initRoutes:function(e,t){e.routes=t}}}),st=nt,rt=(a("0fae"),a("a481"),a("bc3a")),ot=a.n(rt),it=a("d225"),lt=a("b0b4"),ut=(a("ac4d"),a("8a81"),Symbol("showMessage")),ct=function(){function e(){Object(it["a"])(this,e)}return Object(lt["a"])(e,[{key:ut,value:function(e,t,a){a?0===document.getElementsByClassName("el-message").length&&s.a[e](t):s.a[e](t)}},{key:"info",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this[ut]("info",e,t)}},{key:"warning",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this[ut]("warning",e,t)}},{key:"error",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this[ut]("error",e,t)}},{key:"success",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this[ut]("success",e,t)}}]),e}(),dt=new ct;ot.a.interceptors.response.use((function(e){if(!e.status||200!=e.status||500!=e.data.status)return e.data.msg&&s.a.success({message:e.data.msg}),e.data;s.a.error({message:e.data.msg})}),(function(e){504==e.response.status||404==e.response.status?s.a.error({message:"服务器异常"}):403==e.response.status?s.a.error({message:"权限不足，请联系管理员"}):401==e.response.status?(dt.error({message:e.response.data.msg?e.response.data.msg:"尚未登录，请登录"}),tt.replace("/")):e.response.data.msg?s.a.error({message:e.response.data.msg}):s.a.error({message:"未知错误!"})}));var ft="",pt=function(e,t){return ot()({method:"post",url:"".concat(ft).concat(e),data:t,transformRequest:[function(e){var t="";for(var a in e)t+=encodeURIComponent(a)+"="+encodeURIComponent(e[a])+"&";return t}],headers:{"Content-Type":"application/x-www-form-urlencoded"}})},mt=function(e,t){return ot()({method:"post",url:"".concat(ft).concat(e),data:t})},ht=function(e,t){return ot()({method:"put",url:"".concat(ft).concat(e),data:t})},gt=function(e,t){return ot()({method:"get",url:"".concat(ft).concat(e),params:t})},bt=function(e,t){return ot()({method:"delete",url:"".concat(ft).concat(e),params:t})},vt=function(e,t){return ot()({method:"delete",url:"".concat(ft).concat(e),data:t})},yt=(a("f559"),a("7f7f"),a("ac6a"),function(e,t){t.state.routes.length>0||gt("/system/config/menu").then((function(a){if(a){var n=wt(a);e.addRoutes(n),t.commit("initRoutes",n)}}))}),wt=function e(t){var n=[];return t.forEach((function(t){var s=t.path,r=t.component,o=t.name,i=t.meta,l=t.iconCls,u=t.children;u&&u instanceof Array&&(u=e(u));var c={path:s,name:o,iconCls:l,meta:i,children:u,component:function(e){r.startsWith("Home")?Promise.all([a.e("chunk-038859b7"),a.e("chunk-e6dcbd2a"),a.e("chunk-d9e74846")]).then(function(){var t=[a("feca")("./"+r+".vue")];e.apply(null,t)}.bind(this)).catch(a.oe):r.startsWith("Asset")?Promise.all([a.e("chunk-038859b7"),a.e("chunk-2d20e882")]).then(function(){var t=[a("b086")("./"+r+".vue")];e.apply(null,t)}.bind(this)).catch(a.oe):r.startsWith("My")?Promise.all([a.e("chunk-e6dcbd2a"),a.e("chunk-2bf849d8")]).then(function(){var t=[a("5939")("./"+r+".vue")];e.apply(null,t)}.bind(this)).catch(a.oe):r.startsWith("Sys")&&a.e("chunk-df5ae5f0").then(function(){var t=[a("66b4")("./"+r+".vue")];e.apply(null,t)}.bind(this)).catch(a.oe)}};n.push(c)})),n};a("1f54");Be["default"].prototype.$ELEMENT={size:"small",zIndex:3e3},Be["default"].use(Me.a),Be["default"].use(Ne.a),Be["default"].use(Le.a),Be["default"].use(je.a),Be["default"].use(Pe.a),Be["default"].use(Ee.a),Be["default"].use(Re.a),Be["default"].use($e.a),Be["default"].use(De.a),Be["default"].use(Ce.a),Be["default"].use(_e.a),Be["default"].use(we.a),Be["default"].use(ve.a),Be["default"].use(ge.a),Be["default"].use(me.a),Be["default"].use(fe.a),Be["default"].use(ce.a),Be["default"].use(le.a),Be["default"].use(oe.a),Be["default"].use(se.a),Be["default"].use(ae.a),Be["default"].use(ee.a),Be["default"].use(Q.a),Be["default"].use(Z.a),Be["default"].use(K.a),Be["default"].use(J.a),Be["default"].use(z.a),Be["default"].use(M.a),Be["default"].use(N.a),Be["default"].use(L.a),Be["default"].use(j.a),Be["default"].use(P.a),Be["default"].use(E.a),Be["default"].use(R.a),Be["default"].use($.a),Be["default"].use(D.a),Be["default"].use(C.a),Be["default"].use(_.a),Be["default"].use(w.a),Be["default"].use(v.a),Be["default"].use(g.a),Be["default"].use(m.a),Be["default"].use(f.a),Be["default"].use(c.a),Be["default"].use(l.a),Be["default"].prototype.$alert=o.a.alert,Be["default"].prototype.$confirm=o.a.confirm,Be["default"].prototype.$message=s.a,Be["default"].prototype.postRequest=mt,Be["default"].prototype.postKeyValueRequest=pt,Be["default"].prototype.putRequest=ht,Be["default"].prototype.deleteRequest=bt,Be["default"].prototype.getRequest=gt,Be["default"].prototype.deleteRequestWithData=vt,Be["default"].config.productionTip=!1,tt.beforeEach((function(e,t,a){"/"==e.path||"/signUp"==e.path?a():window.sessionStorage.getItem("user")?(yt(tt,st),a()):a("/?redirect="+e.path)})),new Be["default"]({router:tt,store:st,render:function(e){return e(Ye)}}).$mount("#app")},"5c9c":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"signInForm",staticClass:"loginContainer",attrs:{rules:e.rules,"element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)",model:e.signInForm}},[a("h3",{staticClass:"loginTitle"},[e._v("用户注册")]),a("el-form-item",{attrs:{label:"姓名",prop:"name"}},[a("el-input",{attrs:{type:"text","auto-complete":"new-password"},model:{value:e.signInForm.name,callback:function(t){e.$set(e.signInForm,"name",t)},expression:"signInForm.name"}})],1),a("el-form-item",{attrs:{label:"邮箱",prop:"username"}},[a("el-input",{attrs:{type:"text","auto-complete":"new-password"},model:{value:e.signInForm.username,callback:function(t){e.$set(e.signInForm,"username",t)},expression:"signInForm.username"}})],1),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{type:"password",autocomplete:"new-password"},model:{value:e.signInForm.password,callback:function(t){e.$set(e.signInForm,"password",t)},expression:"signInForm.password"}})],1),a("el-form-item",{attrs:{label:"确认密码",prop:"checkPass"}},[a("el-input",{attrs:{type:"password",autocomplete:"new-password"},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitForm("signInForm")}},model:{value:e.signInForm.checkPass,callback:function(t){e.$set(e.signInForm,"checkPass",t)},expression:"signInForm.checkPass"}})],1),a("el-row",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("signInForm")}}},[e._v("提交")]),a("el-button",{on:{click:function(t){return e.resetForm("signInForm")}}},[e._v("重置")])],1)],1)],1)},s=[],r=(a("a481"),{name:"SignUp",data:function(){var e=this,t=function(t,a,n){""===a?n(new Error("请输入密码")):(""!==e.signInForm.checkPass&&e.$refs.signInForm.validateField("checkPass"),n())},a=function(t,a,n){""===a?n(new Error("请再次输入密码")):a!==e.signInForm.password?n(new Error("两次输入密码不一致!")):n()};return{loading:!1,rules:{name:[{required:!0,message:"请输入用户名",trigger:"blur"}],username:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"邮箱格式不正确",trigger:"blur"}],password:[{validator:t,trigger:"blur"}],checkPass:[{validator:a,trigger:"blur"}]},signInForm:{name:"hhj",username:"296@qq.com",password:"123",checkPass:"123"}}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;t.putRequest("/user/add",t.signInForm).then((function(e){e&&t.$router.replace("/")}))}))},resetForm:function(e){this.$refs[e].resetFields()}}}),o=r,i=a("2877"),l=Object(i["a"])(o,n,s,!1,null,"170f6a6b",null);t["default"]=l.exports},"9ecc":function(e,t,a){"use strict";var n=a("13ad"),s=a.n(n);s.a},a55b:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"loginForm",staticClass:"loginContainer",attrs:{rules:e.rules,"element-loading-text":"正在登录...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)",model:e.loginForm}},[a("h3",{staticClass:"loginTitle"},[e._v("系统登录")]),a("el-form-item",{attrs:{prop:"username"}},[a("el-input",{attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"请输入用户名",clearable:""},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{size:"normal",type:"password","auto-complete":"off",placeholder:"请输入密码",clearable:""},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),a("el-form-item",{ref:"code",attrs:{prop:"code"}},[a("el-input",{staticStyle:{width:"250px"},attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"点击图片更换验证码",clearable:""},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitLogin(t)}},model:{value:e.loginForm.code,callback:function(t){e.$set(e.loginForm,"code",t)},expression:"loginForm.code"}}),a("img",{staticStyle:{cursor:"pointer"},attrs:{src:e.vcUrl,alt:""},on:{click:e.updateVerifyCode}})],1),a("el-checkbox",{staticClass:"loginRemember",attrs:{size:"normal"},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}}),a("el-row",[a("el-button",{staticStyle:{width:"75%"},attrs:{size:"normal",type:"primary"},on:{click:e.submitLogin}},[e._v("登录")]),a("el-button",{staticStyle:{width:"20%"},attrs:{size:"normal"},on:{click:e.sighUp}},[e._v("注册")])],1)],1)],1)},s=[],r=(a("a481"),{name:"Login",data:function(){return{loading:!1,vcUrl:"/verifyCode?time="+new Date,loginForm:{username:"admin",password:"123",code:""},checked:!0,rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],code:[{required:!0,message:"请输入验证码",trigger:"blur"}]}}},methods:{updateVerifyCode:function(){this.vcUrl="/verifyCode?time="+new Date},submitLogin:function(){var e=this;this.$refs.loginForm.validate((function(t){if(!t)return!1;e.loading=!0,e.postRequest("/doLogin",e.loginForm).then((function(t){if(e.loading=!1,t){e.$store.commit("INIT_CURRENTUSER",t.obj),window.sessionStorage.setItem("user",JSON.stringify(t.obj));var a=e.$route.query.redirect;e.$router.replace("/"==a||void 0==a?"/home":a)}else e.loginForm.code="",e.vcUrl="/verifyCode?time="+new Date}))}))},sighUp:function(){this.$router.push("/signUp")}}}),o=r,i=(a("d6db"),a("2877")),l=Object(i["a"])(o,n,s,!1,null,null,null);t["default"]=l.exports},a9e7:function(e,t,a){},bb51:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-container",[a("el-header",{staticClass:"homeHeader"},[a("div",{staticClass:"title"},[e._v("实验室资产管理系统")]),a("div",[a("el-dropdown",{staticClass:"userInfo",on:{command:e.commandHandler}},[a("span",{staticClass:"el-dropdown-link"},[e._v("\n            "+e._s(e.user.name)+"\n          ")]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"userInfo"}},[e._v("个人中心")]),a("el-dropdown-item",{attrs:{command:"logout",divided:""}},[e._v("注销登录")])],1)],1)],1)]),a("el-container",[a("el-aside",{attrs:{width:"200px"}},[a("el-menu",{attrs:{router:"","unique-opened":""}},e._l(e.routes,(function(t,n){return t.hidden?e._e():a("el-submenu",{key:n,attrs:{index:n+""}},[a("template",{slot:"title"},[a("i",{class:t.iconCls,staticStyle:{color:"#759ad1","margin-right":"5px"}}),a("span",[e._v(e._s(t.name))])]),e._l(t.children,(function(t,n){return a("el-menu-item",{key:n,attrs:{index:t.path}},[e._v("\n              "+e._s(t.name)+"\n            ")])}))],2)})),1)],1),a("el-main",["/home"!=this.$router.currentRoute.path?a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首页")]),a("el-breadcrumb-item",[e._v(e._s(this.$router.currentRoute.name))])],1):e._e(),"/home"==this.$router.currentRoute.path?a("div",[a("AssetDashBoard")],1):e._e(),a("router-view",{staticClass:"homeRouterView"})],1)],1)],1)],1)},s=[],r=(a("a481"),a("c114")),o={name:"Home",data:function(){return{}},components:{AssetDashBoard:r["default"]},computed:{routes:function(){return this.$store.state.routes},user:function(){return this.$store.state.currentUser}},methods:{commandHandler:function(e){var t=this;"logout"==e?this.$confirm("此操作将注销登录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.getRequest("/logout"),window.sessionStorage.removeItem("user"),t.$store.commit("initRoutes",[]),t.$router.replace("/")})).catch((function(){t.$message({type:"info",message:"已取消操作"})})):"userInfo"==e&&this.$router.push("/userInfo")}}},i=o,l=(a("cccb"),a("2877")),u=Object(l["a"])(i,n,s,!1,null,null,null);t["default"]=u.exports},c114:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{attrs:{width:"100%"}},[a("el-card",{staticClass:"box-card",staticStyle:{"background-color":"#fff143"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"box-title"},[e._v("总资产数")])]),a("div",{staticClass:"box-value"},[e._v("\n        "+e._s(e.headTableData.total)+"\n      ")])]),a("el-card",{staticClass:"box-card",staticStyle:{"background-color":"#44cef6"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"box-title"},[e._v("使用中数量")])]),a("div",{staticClass:"box-value"},[e._v("\n        "+e._s(e.headTableData.inUse)+"\n      ")])]),a("el-card",{staticClass:"box-card",staticStyle:{"background-color":"#9ed048"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"box-title"},[e._v("闲置数量")])]),a("div",{staticClass:"box-value"},[e._v("\n        "+e._s(e.headTableData.free)+"\n      ")])]),a("el-card",{staticClass:"box-card",staticStyle:{"background-color":"#cca4e3"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"box-title"},[e._v("维修中数量")])]),a("div",{staticClass:"box-value"},[e._v("\n        "+e._s(e.headTableData.inRepair)+"\n      ")])]),a("el-card",{staticClass:"box-card",staticStyle:{"background-color":"#f9906f"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"box-title"},[e._v("资产总金额（元）")])]),a("div",{staticClass:"box-value"},[e._v("\n        "+e._s(e.headTableData.money)+"\n      ")])]),a("el-card",{staticClass:"box-card",staticStyle:{"background-color":"#c2ccd0"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"box-title"},[e._v("报废数量")])]),a("div",{staticClass:"box-value"},[e._v("\n        "+e._s(e.headTableData.cleaned)+"\n      ")])])],1),a("el-card",{staticClass:"chart-card",staticStyle:{width:"100%"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("资产概况")]),a("el-select",{staticStyle:{float:"right",padding:"3px 0"},attrs:{multiple:"",placeholder:"请选择资产类型"},on:{change:function(t){return e.initData()}},model:{value:e.typeList,callback:function(t){e.typeList=t},expression:"typeList"}},e._l(e.types,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.name}})})),1)],1),a("el-table",{staticStyle:{"font-size":"15px",width:"50%",float:"left"},attrs:{data:e.tableData,"row-style":{height:"60px"}}},[a("el-table-column",{attrs:{prop:"statusName",label:"类型",width:"180"}}),a("el-table-column",{attrs:{prop:"count",label:"数量",width:"180"}}),a("el-table-column",{attrs:{prop:"money",label:"金额（元）"}})],1),a("ve-ring",{staticStyle:{width:"50%",float:"right"},attrs:{data:e.ringData}})],1),a("div",{staticStyle:{width:"100%"}},[a("el-card",{staticClass:"chart-card",staticStyle:{width:"49%",float:"left"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("资产增长趋势")]),a("el-date-picker",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"daterange",align:"right","unlink-panels":"","value-format":"yyyy-MM-dd","range-separator":"至","start-placeholder":"开始月份","end-placeholder":"结束月份"},on:{change:e.initLineData},model:{value:e.monthScope,callback:function(t){e.monthScope=t},expression:"monthScope"}})],1),a("ve-line",{attrs:{data:e.lineData}})],1),a("el-card",{staticClass:"chart-card",staticStyle:{width:"49%",float:"right"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("资产分类统计")])]),a("ve-bar",{attrs:{data:e.typeChartData}})],1)],1)],1)},s=[],r=a("ba1a"),o=a.n(r),i=a("a1f7"),l=a.n(i),u=a("72fb"),c=a.n(u),d={name:"AssetDashBoard",mounted:function(){this.initHeadTableData(),this.initData(),this.initTypeChartData()},data:function(){return{pickerOptions:{shortcuts:[{text:"本月",onClick:function(e){e.$emit("pick",[new Date,new Date])}},{text:"今年至今",onClick:function(e){var t=new Date,a=new Date((new Date).getFullYear(),0);e.$emit("pick",[a,t])}},{text:"最近六个月",onClick:function(e){var t=new Date,a=new Date;a.setMonth(a.getMonth()-6),e.$emit("pick",[a,t])}}]},typeList:[],monthScope:"",types:[{id:1,name:"手机"},{id:2,name:"主机"},{id:3,name:"交换机"},{id:4,name:"测距仪"}],headTableData:{total:"",inUse:"",free:"",inRepair:"",money:"",cleaned:""},tableData:[],ringData:{columns:["statusName","count"],rows:[]},typeChartData:{columns:["type","count"],rows:[]},lineData:{columns:["date","total","inUse","free","inRepair","cleaned"],rows:[]}}},methods:{initData:function(){this.initRingData(),this.initTableData(),this.initLineData()},initHeadTableData:function(){var e=this,t="/asset/dashboard/get/headTable";this.getRequest(t).then((function(t){t&&(e.headTableData=t.obj)}))},initRingData:function(){var e=this,t="/asset/dashboard/get/ringData";this.postRequest(t,this.typeList).then((function(t){t&&(e.ringData.rows=t.obj)}))},initTableData:function(){var e=this,t="/asset/dashboard/get/tableData";this.postRequest(t,this.typeList).then((function(t){t&&(e.tableData=t.obj)}))},initTypeChartData:function(){var e=this,t="/asset/dashboard/get/typeChartData";this.getRequest(t).then((function(t){t&&(e.typeChartData.rows=t.obj)}))},initLineData:function(){var e=this,t="/asset/dashboard/get/lineData";this.monthScope&&(t+="/?monthScope="+this.monthScope),this.getRequest(t).then((function(t){t&&(e.lineData.rows=t.obj)}))}},components:{VeLine:o.a,VeRing:l.a,VeBar:c.a}},f=d,p=(a("9ecc"),a("2877")),m=Object(p["a"])(f,n,s,!1,null,"3147e130",null);t["default"]=m.exports},cccb:function(e,t,a){"use strict";var n=a("d563"),s=a.n(n);s.a},d563:function(e,t,a){},d6db:function(e,t,a){"use strict";var n=a("a9e7"),s=a.n(n);s.a},ee96:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.user?a("div",[a("el-card",{staticClass:"box-card",staticStyle:{width:"400px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v(e._s(e.user.name))])]),a("div",[a("div",[e._v("用户ID：\n        "),a("el-tag",[e._v(e._s(e.user.id))])],1),a("div",[e._v("账号（邮箱）：\n        "),a("el-tag",[e._v(e._s(e.user.username))])],1),a("div",[e._v("手机号码：\n        "),a("el-tag",[e._v(e._s(e.user.phone))])],1),a("div",[e._v("用户角色：\n        "),e._l(e.user.roles,(function(t,n){return a("el-tag",{key:n,staticStyle:{"margin-right":"5px"},attrs:{type:"success"}},[e._v("\n          "+e._s(t.nameZh)+"\n        ")])}))],2),a("div",[e._v("备注：\n        "),a("el-tag",[e._v(e._s(e.user.remark))])],1),a("div",{staticStyle:{display:"flex","justify-content":"space-around","margin-top":"10px"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.showUpdateUserInfoView}},[e._v("修改信息")]),a("el-button",{attrs:{type:"danger"},on:{click:e.showUpdatePasswdView}},[e._v("修改密码")])],1)])]),a("el-dialog",{attrs:{title:"修改用户信息",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",[a("table",[a("tr",[a("td",[a("el-tag",[e._v("用户昵称：")])],1),a("td",[a("el-input",{model:{value:e.user2.name,callback:function(t){e.$set(e.user2,"name",t)},expression:"user2.name"}})],1)]),a("tr",[a("td",[a("el-tag",[e._v("账号（邮箱）：")])],1),a("td",[a("el-input",{model:{value:e.user2.username,callback:function(t){e.$set(e.user2,"username",t)},expression:"user2.username"}})],1)]),a("tr",[a("td",[a("el-tag",[e._v("手机号码：")])],1),a("td",[a("el-input",{model:{value:e.user2.phone,callback:function(t){e.$set(e.user2,"phone",t)},expression:"user2.phone"}})],1)]),a("tr",[a("td",[a("el-tag",[e._v("备注：")])],1),a("td",[a("el-input",{attrs:{type:"textarea",rows:2},model:{value:e.user2.remark,callback:function(t){e.$set(e.user2,"remark",t)},expression:"user2.remark"}})],1)])])]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.updateUserInfo}},[e._v("确 定")])],1)]),a("el-dialog",{attrs:{title:"修改密码",visible:e.passwdDialogVisible,width:"30%"},on:{"update:visible":function(t){e.passwdDialogVisible=t}}},[a("div",[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"请输入旧密码",prop:"oldpass"}},[a("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm.oldpass,callback:function(t){e.$set(e.ruleForm,"oldpass",t)},expression:"ruleForm.oldpass"}})],1),a("el-form-item",{attrs:{label:"请输入新密码",prop:"pass"}},[a("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm.pass,callback:function(t){e.$set(e.ruleForm,"pass",t)},expression:"ruleForm.pass"}})],1),a("el-form-item",{attrs:{label:"新确认密码",prop:"checkPass"}},[a("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm.checkPass,callback:function(t){e.$set(e.ruleForm,"checkPass",t)},expression:"ruleForm.checkPass"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("提交")]),a("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)])],1):e._e()},s=[],r=(a("a481"),{name:"UserInfo",data:function(){var e=this,t=function(t,a,n){""===a?n(new Error("请输入密码")):(""!==e.ruleForm.checkPass&&e.$refs.ruleForm.validateField("checkPass"),n())},a=function(t,a,n){""===a?n(new Error("请再次输入密码")):a!==e.ruleForm.pass?n(new Error("两次输入密码不一致!")):n()};return{ruleForm:{oldpass:"",pass:"",checkPass:""},rules:{oldpass:[{validator:t,trigger:"blur"}],pass:[{validator:t,trigger:"blur"}],checkPass:[{validator:a,trigger:"blur"}]},user:null,user2:null,dialogVisible:!1,passwdDialogVisible:!1}},mounted:function(){this.initUser()},methods:{onSuccess:function(){this.initUser()},updateUserInfo:function(){var e=this;this.putRequest("/user/info",this.user2).then((function(t){t&&(e.dialogVisible=!1,e.initUser())}))},showUpdateUserInfoView:function(){this.dialogVisible=!0},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;t.ruleForm.uid=t.user.id,t.putRequest("/user/pass",t.ruleForm).then((function(e){e&&(t.getRequest("/logout"),window.sessionStorage.removeItem("user"),t.$store.commit("initRoutes",[]),t.$router.replace("/"))}))}))},resetForm:function(e){this.$refs[e].resetFields()},showUpdatePasswdView:function(){this.passwdDialogVisible=!0},initUser:function(){var e=this;this.getRequest("/user/info").then((function(t){t&&(e.user=t,e.user2=Object.assign({},e.user),window.sessionStorage.setItem("user",JSON.stringify(t)),e.$store.commit("INIT_CURRENTUSER",t))}))}}}),o=r,i=a("2877"),l=Object(i["a"])(o,n,s,!1,null,"4cecc436",null);t["default"]=l.exports}});
//# sourceMappingURL=app.7b70c878.js.map