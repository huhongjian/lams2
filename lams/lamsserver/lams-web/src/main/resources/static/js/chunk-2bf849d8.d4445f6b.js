(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2bf849d8"],{3622:function(e,t,r){"use strict";var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-dialog",{attrs:{title:e.title,visible:e.dialogVisible,"before-close":e.handleClose,width:"80%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("div",[r("el-form",{ref:"orderForm",attrs:{model:e.order,rules:e.rules}},[r("el-row",[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"品牌:",prop:"asset.brand"}},[r("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.order.asset.brand,callback:function(t){e.$set(e.order.asset,"brand",t)},expression:"order.asset.brand"}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"类型:",prop:"type"}},[r("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.order.asset.type,callback:function(t){e.$set(e.order.asset,"type",t)},expression:"order.asset.type"}},e._l(e.options,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"价格（元）:",prop:"asset.price"}},[r("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.order.asset.price,callback:function(t){e.$set(e.order.asset,"price",t)},expression:"order.asset.price"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:20}},[r("el-form-item",{attrs:{label:"理由:",prop:"reason"}},[r("el-input",{attrs:{size:"mini",type:"textarea",rows:2,placeholder:"请输入申请理由"},model:{value:e.order.reason,callback:function(t){e.$set(e.order,"reason",t)},expression:"order.reason"}})],1)],1)],1)],1),e.order.asset.adv?[r("el-form",{directives:[{name:"show",rawName:"v-show",value:"手机"==e.order.asset.type,expression:"order.asset.type=='手机'"}],attrs:{model:e.order.asset.adv}},[r("el-row",[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"内存（G）:",prop:"memory"}},[r("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.order.asset.adv.memory,callback:function(t){e.$set(e.order.asset.adv,"memory",t)},expression:"order.asset.adv.memory"}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"屏幕尺寸（寸）:",prop:"screenSize"}},[r("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.order.asset.adv.screenSize,callback:function(t){e.$set(e.order.asset.adv,"screenSize",t)},expression:"order.asset.adv.screenSize"}})],1)],1)],1)],1),r("el-form",{directives:[{name:"show",rawName:"v-show",value:"交换机"==e.order.asset.type,expression:"order.asset.type=='交换机'"}],attrs:{model:e.order.asset.adv}},[r("el-row",[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"接口数:",prop:"nums"}},[r("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.order.asset.adv.nums,callback:function(t){e.$set(e.order.asset.adv,"nums",t)},expression:"order.asset.adv.nums"}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"类型:",prop:"type"}},[r("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.order.asset.adv.type,callback:function(t){e.$set(e.order.asset.adv,"type",t)},expression:"order.asset.adv.type"}})],1)],1)],1)],1),r("el-form",{directives:[{name:"show",rawName:"v-show",value:"主机"==e.order.asset.type,expression:"order.asset.type=='主机'"}],attrs:{model:e.order.asset.adv}},[r("el-row",[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"cpu:",prop:"cpu"}},[r("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.order.asset.adv.cpu,callback:function(t){e.$set(e.order.asset.adv,"cpu",t)},expression:"order.asset.adv.cpu"}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"内存（G）:",prop:"memory"}},[r("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.order.asset.adv.memory,callback:function(t){e.$set(e.order.asset.adv,"memory",t)},expression:"order.asset.adv.memory"}})],1)],1)],1)],1),r("el-form",{directives:[{name:"show",rawName:"v-show",value:"测距仪"==e.order.asset.type,expression:"order.asset.type=='测距仪'"}],attrs:{model:e.order.asset.adv}},[r("el-row",[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"精度:",prop:"precision"}},[r("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.order.asset.adv.precision,callback:function(t){e.$set(e.order.asset.adv,"precision",t)},expression:"order.asset.adv.precision"}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"距离:",prop:"distance"}},[r("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.order.asset.adv.distance,callback:function(t){e.$set(e.order.asset.adv,"distance",t)},expression:"order.asset.adv.distance"}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"方式:",prop:"methods"}},[r("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.order.asset.adv.methods,callback:function(t){e.$set(e.order.asset.adv,"methods",t)},expression:"order.asset.adv.methods"}})],1)],1)],1)],1),r("el-form",[r("el-row",[r("el-form-item",{attrs:{label:"资产相关图片:"}})],1),r("el-row",[r("el-form-item",{attrs:{prop:"pics"}},[r("el-upload",{ref:"upload",attrs:{data:e.uploadData,"file-list":e.fileList,action:"/order/basic/pic/add","list-type":"picture-card","on-preview":e.handlePictureCardPreview,"on-remove":e.handleRemove,"auto-upload":!1}},[r("i",{staticClass:"el-icon-plus"})])],1)],1)],1)]:e._e()],2),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){return e.$emit("close")}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.doAddAsset}},[e._v("确 定")])],1)]),r("el-dialog",{attrs:{visible:e.visible},on:{"update:visible":function(t){e.visible=t}}},[r("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1)},a=[],o=r("85f2"),i=r.n(o);function l(e,t,r){return t in e?i()(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var n={name:"OrderEdit",props:["order","fileList","title","dialogVisible"],data:function(){var e;return{uploadData:{aid:""},options:[{value:"手机",label:"手机"},{value:"主机",label:"主机"},{value:"交换机",label:"交换机"},{value:"测距仪",label:"测距仪"}],rules:(e={},l(e,"asset.brand",[{required:!0,message:"请输入品牌",trigger:"blur"}]),l(e,"asset.price",[{required:!0,message:"请输入价格",trigger:"blur"}]),l(e,"reason",[{required:!0,message:"请输入申请理由",trigger:"blur"}]),e),dialogImageUrl:"",visible:!1}},methods:{doAddAsset:function(){var e=this;this.order.asset.id?this.$refs["orderForm"].validate((function(t){t&&e.putRequest("/order/basic/edit",e.order).then((function(t){t&&(e.uploadData.aid=e.order.asset.id,e.$refs.upload.submit(),e.$emit("close"),e.$parent.initOrders())}))})):this.$refs["orderForm"].validate((function(t){t&&e.postRequest("/order/basic/add",e.order).then((function(t){t&&(e.uploadData.aid=t.obj,e.$refs.upload.submit(),e.$emit("close"),e.$parent.initOrders())}))}))},handleClose:function(){this.$emit("close")},handleRemove:function(e,t){var r=this;e.id&&this.deleteRequest("/order/basic/pic/remove/?pid="+e.id).then((function(e){e&&r.$parent.initOrders()})),console.log(e,t)},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.visible=!0}}},d=n,p=r("2877"),c=Object(p["a"])(d,s,a,!1,null,"69944e54",null);t["a"]=c.exports},5939:function(e,t,r){var s={"./MyApply.vue":"6e6f","./MyOut.vue":"8e88","./MyTask.vue":"096f"};function a(e){var t=o(e);return r(t)}function o(e){if(!r.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}a.keys=function(){return Object.keys(s)},a.resolve=o,e.exports=a,a.id="5939"},b9d6:function(e,t,r){"use strict";var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-dialog",{attrs:{title:e.title,visible:e.dialogVisible2,"before-close":e.handleClose,width:"80%"},on:{"update:visible":function(t){e.dialogVisible2=t}}},[r("div",[r("el-form",{attrs:{model:e.order.asset}},[r("el-row",[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"品牌:",prop:"brand"}},[e._v("\n              "+e._s(e.order.asset.brand)+"\n            ")])],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"类型:",prop:"type"}},[e._v("\n              "+e._s(e.order.asset.type)+"\n            ")])],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"价格（元）:",prop:"price"}},[e._v("\n              "+e._s(e.order.asset.price)+"\n            ")])],1)],1),e.order.user?[r("el-row",[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"用户:",prop:"applicant"}},[e._v("\n                "+e._s(e.order.user.name)+"\n              ")])],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"电话:",prop:"applicantPhone"}},[e._v("\n                "+e._s(e.order.user.phone)+"\n              ")])],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"邮件:",prop:"applicantEmail"}},[e._v("\n                "+e._s(e.order.user.username)+"\n              ")])],1)],1)]:e._e(),r("el-row",[r("el-col",{attrs:{span:10}},[r("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.order.expireTime,expression:"order.expireTime"}],attrs:{label:"预计归还时间:",prop:"expireTime"}},[e._v("\n              "+e._s(e.order.expireTime)+"\n            ")])],1)],1),r("el-row",[r("el-col",{attrs:{span:10}},[r("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.order.reason&&""!=e.order.reason,expression:"order.reason&&order.reason!=''"}],attrs:{label:"理由:",prop:"reason"}},[e._v("\n              "+e._s(e.order.reason)+"\n            ")])],1)],1)],2),e.order.asset.adv?[r("el-form",{directives:[{name:"show",rawName:"v-show",value:"手机"==e.order.asset.type,expression:"order.asset.type=='手机'"}],attrs:{model:e.order.asset.adv}},[r("el-row",[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"内存（G）:",prop:"memory"}},[e._v("\n                "+e._s(e.order.asset.adv.memory)+"\n              ")])],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"屏幕尺寸（寸）:",prop:"screenSize"}},[e._v("\n                "+e._s(e.order.asset.adv.screenSize)+"\n              ")])],1)],1)],1),r("el-form",{directives:[{name:"show",rawName:"v-show",value:"交换机"==e.order.asset.type,expression:"order.asset.type=='交换机'"}],attrs:{model:e.order.asset.adv}},[r("el-row",[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"接口数:",prop:"nums"}},[e._v("\n                "+e._s(e.order.asset.adv.nums)+"\n              ")])],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"类型:",prop:"type"}},[e._v("\n                "+e._s(e.order.asset.adv.type)+"\n              ")])],1)],1)],1),r("el-form",{directives:[{name:"show",rawName:"v-show",value:"主机"==e.order.asset.type,expression:"order.asset.type=='主机'"}],attrs:{model:e.order.asset.adv}},[r("el-row",[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"cpu:",prop:"cpu"}},[e._v("\n                "+e._s(e.order.asset.adv.cpu)+"\n              ")])],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"内存（G）:",prop:"memory"}},[e._v("\n                "+e._s(e.order.asset.adv.memory)+"\n              ")])],1)],1)],1),r("el-form",{directives:[{name:"show",rawName:"v-show",value:"测距仪"==e.order.asset.type,expression:"order.asset.type=='测距仪'"}],attrs:{model:e.order.asset.adv}},[r("el-row",[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"精度:",prop:"precision"}},[e._v("\n                "+e._s(e.order.asset.adv.precision)+"\n              ")])],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"距离:",prop:"distance"}},[e._v("\n                "+e._s(e.order.asset.adv.distance)+"\n              ")])],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"方式:",prop:"methods"}},[e._v("\n                "+e._s(e.order.asset.adv.methods)+"\n              ")])],1)],1)],1),r("el-form",[r("el-row",{directives:[{name:"show",rawName:"v-show",value:e.urlList&&e.urlList.length>0,expression:"urlList&&urlList.length>0"}]},[r("el-form-item",{attrs:{label:"资产相关图片:"}})],1),r("el-row",[e._l(e.urlList,(function(t){return[r("el-col",{attrs:{span:3}},[r("el-form-item",[r("el-image",{staticStyle:{width:"130px",height:"130px"},attrs:{src:t,"preview-src-list":e.urlList}})],1)],1)]}))],2)],1)]:e._e()],2),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},["3"==e.order.status||"8"==e.order.status||"7"==e.order.status?r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.visible2=!0}}},[e._v("借 用")]):e._e(),e._l(e.operateList,(function(t){return[r("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.checkAndHandle(t.operateType)}}},[e._v(e._s(t.operate))])]})),r("el-button",{on:{click:function(t){return e.$emit("close")}}},[e._v("取 消")])],2)]),r("el-dialog",{attrs:{visible:e.visible,width:"30%"},on:{"update:visible":function(t){e.visible=t}}},[r("el-form",{ref:"transForm",attrs:{model:e.taskHandleDto,rules:e.rules}},[r("el-row",{staticStyle:{margin:"0 auto",width:"300px"}},[r("el-form-item",{attrs:{label:"转交至:"}})],1),r("el-row",{staticStyle:{margin:"0 auto",width:"300px"}},[r("el-form-item",{attrs:{label:"姓名:",prop:"name"}},[r("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1)],1),r("el-row",{staticStyle:{margin:"0 auto",width:"300px"}},[r("el-form-item",{attrs:{label:"邮箱:",prop:"candidateUser"}},[r("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.taskHandleDto.candidateUser,callback:function(t){e.$set(e.taskHandleDto,"candidateUser",t)},expression:"taskHandleDto.candidateUser"}})],1)],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary"},on:{click:e.transfer}},[e._v("转交")]),r("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取 消")])],1)],1),r("el-dialog",{attrs:{visible:e.visible2,width:"30%"},on:{"update:visible":function(t){e.visible2=t}}},[r("el-form",{ref:"borrowForm",attrs:{model:e.order,rules:e.borrowFormRules}},[r("el-row",{staticStyle:{margin:"0 auto",width:"300px"}},[r("el-form-item",{attrs:{label:"预计归还时间:",prop:"expireTime"}},[r("el-date-picker",{attrs:{type:"date","picker-options":e.pickerOptions,placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},model:{value:e.order.expireTime,callback:function(t){e.$set(e.order,"expireTime",t)},expression:"order.expireTime"}})],1)],1),r("el-row",{staticStyle:{margin:"0 auto",width:"300px"}},[r("el-form-item",{attrs:{label:"申请理由:",prop:"reason"}},[r("el-input",{attrs:{size:"mini",type:"textarea",rows:2},model:{value:e.order.reason,callback:function(t){e.$set(e.order,"reason",t)},expression:"order.reason"}})],1)],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary"},on:{click:e.borrow}},[e._v("确 认")]),r("el-button",{on:{click:e.clearBorrowForm}},[e._v("取 消")])],1)],1)],1)},a=[],o={name:"OrderDetail",props:["order","title","dialogVisible2","urlList","operateList"],data:function(){var e=this;return{visible:!1,visible2:!1,name:"",taskHandleDto:{id:null,operateType:null,candidateUser:null},rules:{candidateUser:[{required:!0,message:"请输入转交人邮箱",trigger:"blur"}]},borrowFormRules:{expireTime:[{required:!0,message:"请输入预计转交时间",trigger:"blur"}],reason:[{required:!0,message:"请输入申请理由",trigger:"blur"}]},pickerOptions:{disabledDate:function(t){return e.dealDisabledDate(t)}}}},methods:{transfer:function(){var e=this;this.$refs["transForm"].validate((function(t){t&&e.handle()}))},handle:function(){var e=this;this.taskHandleDto.id=this.order.id,this.postRequest("/order/task/handleTask",this.taskHandleDto).then((function(t){t&&(e.visible=!1,e.$emit("close"),e.$parent.initOrders())}))},cancel:function(){var e=this;this.taskHandleDto.id=this.order.id,this.postRequest("/order/task/cancel",this.taskHandleDto).then((function(t){t&&(e.visible=!1,e.$emit("close"),e.$parent.initOrders())}))},checkAndHandle:function(e){this.taskHandleDto.operateType=e,"5"==e?this.visible=!0:"7"==e?this.cancel():this.handle()},borrow:function(){var e=this;this.$refs["borrowForm"].validate((function(t){t&&e.postRequest("/order/basic/borrow",e.order).then((function(t){t&&(e.visible2=!1,e.$emit("close"),e.$parent.initOrders())}))}))},handleClose:function(){this.$emit("close")},dealDisabledDate:function(e){var t=Date.now()-864e5;return e.getTime()<t},clearBorrowForm:function(){this.order.expireTime="",this.order.reason="",this.visible2=!1}}},i=o,l=r("2877"),n=Object(l["a"])(i,s,a,!1,null,"55ff81e8",null);t["a"]=n.exports}}]);
//# sourceMappingURL=chunk-2bf849d8.d4445f6b.js.map