(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-65f35047"],{"096f":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("Mine",{attrs:{orders:e.orders,showAdvanceSearchView:e.showAdvanceSearchView,total:e.total,page:e.page,size:e.size,loading:e.loading},on:{currentSize:e.sizeChange,currentPage:e.currentChange}}),i("AssetEdit",{attrs:{dialogVisible:e.dialogVisible,order:e.order,title:e.title,rules:e.rules},on:{close:function(t){e.dialogVisible=!1}}}),i("AssetDetail",{attrs:{dialogVisible2:e.dialogVisible2,order:e.order,title:e.title,candidateBranches:e.candidateBranches,rules:e.rules},on:{close:function(t){e.dialogVisible2=!1}}})],1)},r=[],s=(i("7f7f"),i("5c8f")),n=i("4ca5"),l=i("9742"),o={name:"MyTask",data:function(){return{searchValue:{type:null,nationId:null,jobLevelId:null,posId:null,engageForm:null,departmentId:null,beginDateScope:null},title:"",importDataBtnText:"导入数据",importDataBtnIcon:"el-icon-upload2",importDataDisabled:!1,showAdvanceSearchView:!1,allDeps:[],orders:[],loading:!1,popVisible:!1,popVisible2:!1,dialogVisible:!1,dialogVisible2:!1,total:0,page:1,keyword:"",size:10,nations:[],joblevels:[],types:[{id:1,name:"手机"},{id:2,name:"主机"},{id:3,name:"交换机"},{id:4,name:"测距仪"}],statuses:[{id:0,name:"申请采购"},{id:0,name:"审批通过"},{id:0,name:"审批未通过"}],candidateBranches:{},tiptopDegrees:["本科","大专","硕士","博士","高中","初中","小学","其他"],inputDepName:"所属部门",order:{id:"",category:"",categoryName:"",status:"",duration:"",reason:"测试",applicant:"胡宏建",applicantPhone:"18840833079",applicantEmail:"admin",createTime:"",asset:{id:"",brand:"华为",type:"手机",price:"4000",adv:{}}},defaultProps:{children:"children",label:"name"},rules:{name:[{required:!0,message:"请输入用户名",trigger:"blur"}],gender:[{required:!0,message:"请输入性别",trigger:"blur"}],birthday:[{required:!0,message:"请输入出生日期",trigger:"blur"}],idCard:[{required:!0,message:"请输入身份证号码",trigger:"blur"},{pattern:/(^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$)|(^[1-9]\d{5}\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{2}$)/,message:"身份证号码格式不正确",trigger:"blur"}],wedlock:[{required:!0,message:"请输入婚姻状况",trigger:"blur"}],nationId:[{required:!0,message:"请输入您组",trigger:"blur"}],nativePlace:[{required:!0,message:"请输入籍贯",trigger:"blur"}],politicId:[{required:!0,message:"请输入政治面貌",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"邮箱格式不正确",trigger:"blur"}],phone:[{required:!0,message:"请输入电话号码",trigger:"blur"}],address:[{required:!0,message:"请输入员工地址",trigger:"blur"}],departmentId:[{required:!0,message:"请输入部门名称",trigger:"blur"}],jobLevelId:[{required:!0,message:"请输入职称",trigger:"blur"}],posId:[{required:!0,message:"请输入职位",trigger:"blur"}],engageForm:[{required:!0,message:"请输入聘用形式",trigger:"blur"}],tiptopDegree:[{required:!0,message:"请输入学历",trigger:"blur"}],specialty:[{required:!0,message:"请输入专业",trigger:"blur"}],school:[{required:!0,message:"请输入毕业院校",trigger:"blur"}],beginDate:[{required:!0,message:"请输入入职日期",trigger:"blur"}],workState:[{required:!0,message:"请输入工作状态",trigger:"blur"}],workID:[{required:!0,message:"请输入工号",trigger:"blur"}],contractTerm:[{required:!0,message:"请输入合同期限",trigger:"blur"}],conversionTime:[{required:!0,message:"请输入转正日期",trigger:"blur"}],notworkDate:[{required:!0,message:"请输入离职日期",trigger:"blur"}],beginContract:[{required:!0,message:"请输入合同起始日期",trigger:"blur"}],endContract:[{required:!0,message:"请输入合同结束日期",trigger:"blur"}],workAge:[{required:!0,message:"请输入工龄",trigger:"blur"}]}}},components:{AssetDetail:s["a"],AssetEdit:n["a"],Mine:l["a"]},mounted:function(){this.initOrders()},methods:{searvhViewHandleNodeClick:function(e){this.inputDepName=e.name,this.searchValue.departmentId=e.id,this.popVisible2=!this.popVisible2},onError:function(e,t,i){this.importDataBtnText="导入数据",this.importDataBtnIcon="el-icon-upload2",this.importDataDisabled=!1},onSuccess:function(e,t,i){this.importDataBtnText="导入数据",this.importDataBtnIcon="el-icon-upload2",this.importDataDisabled=!1,this.initOrders()},beforeUpload:function(){this.importDataBtnText="正在导入",this.importDataBtnIcon="el-icon-loading",this.importDataDisabled=!0},exportData:function(){window.open("/employee/basic/export","_parent")},emptyAsset:function(){this.asset={id:"",brand:"华为",type:"手机",price:"4000",applicant:"胡宏建",applicantPhone:"18840833079",applicantEmail:"admin",reason:"测试",adv:{}},this.inputDepName=""},showEditEmpView:function(e){this.title="编辑资产信息",this.order=e,this.dialogVisible=!0},showDetailView:function(e){this.title="资产详情",this.order=e,this.dialogVisible2=!0},getCandidateBranchInfo:function(e){var t=this;this.getRequest("/asset/task/getCandidateTaskBranchInfo?id="+e.id).then((function(i){i&&(t.candidateBranches=i.obj,t.showDetailView(e))}))},deleteEmp:function(e){var t=this;this.$confirm("此操作将永久删除【"+e.name+"】, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.deleteRequest("/employee/basic/"+e.id).then((function(e){e&&t.initOrders()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},handleNodeClick:function(e){this.inputDepName=e.name,this.emp.departmentId=e.id,this.popVisible=!this.popVisible},showDepView:function(){this.popVisible=!this.popVisible},showDepView2:function(){this.popVisible2=!this.popVisible2},sizeChange:function(e){this.size=e,this.initOrders()},currentChange:function(e){this.page=e,this.initOrders("advanced")},showAddEmpView:function(){this.emptyAsset(),this.title="资产采购申请",this.dialogVisible=!0},initOrders:function(e){var t=this;this.loading=!0;var i="/order/task/getMyTask/?page="+this.page+"&size="+this.size;e&&"advanced"==e?(this.searchValue.politicId&&(i+="&politicId="+this.searchValue.politicId),this.searchValue.nationId&&(i+="&nationId="+this.searchValue.nationId),this.searchValue.jobLevelId&&(i+="&jobLevelId="+this.searchValue.jobLevelId),this.searchValue.posId&&(i+="&posId="+this.searchValue.posId),this.searchValue.engageForm&&(i+="&engageForm="+this.searchValue.engageForm),this.searchValue.departmentId&&(i+="&departmentId="+this.searchValue.departmentId),this.searchValue.beginDateScope&&(i+="&beginDateScope="+this.searchValue.beginDateScope)):i+="&name="+this.keyword,this.getRequest(i).then((function(e){t.loading=!1,e&&(t.orders=e.data,t.total=e.total)}))}}},d=o,c=(i("eb05"),i("2877")),p=Object(c["a"])(d,a,r,!1,null,null,null);t["default"]=p.exports},"4ca5":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{attrs:{title:e.title,visible:e.dialogVisible,width:"80%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("div",[i("el-form",{ref:"orderForm",attrs:{model:e.order,rules:e.rules}},[i("el-row",[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"品牌:",prop:"brand"}},[i("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.order.asset.brand,callback:function(t){e.$set(e.order.asset,"brand",t)},expression:"order.asset.brand"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"类型:",prop:"type"}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:e.order.asset.type,callback:function(t){e.$set(e.order.asset,"type",t)},expression:"order.asset.type"}},e._l(e.options,(function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"价格:",prop:"price"}},[i("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.order.asset.price,callback:function(t){e.$set(e.order.asset,"price",t)},expression:"order.asset.price"}})],1)],1)],1),i("el-row",[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"申请人:",prop:"applicant"}},[i("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.order.applicant,callback:function(t){e.$set(e.order,"applicant",t)},expression:"order.applicant"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"电话:",prop:"applicantPhone"}},[i("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.order.applicantPhone,callback:function(t){e.$set(e.order,"applicantPhone",t)},expression:"order.applicantPhone"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"邮件:",prop:"applicantEmail"}},[i("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.order.applicantEmail,callback:function(t){e.$set(e.order,"applicantEmail",t)},expression:"order.applicantEmail"}})],1)],1),i("el-col",{attrs:{span:20}},[i("el-form-item",{attrs:{label:"理由:",prop:"reason"}},[i("el-input",{staticStyle:{width:"300px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.order.reason,callback:function(t){e.$set(e.order,"reason",t)},expression:"order.reason"}})],1)],1)],1)],1),e.order.asset.adv?[i("el-form",{directives:[{name:"show",rawName:"v-show",value:"手机"==e.order.asset.type,expression:"order.asset.type=='手机'"}],ref:"orderForm",attrs:{model:e.order.asset.adv,rules:e.rules}},[i("el-row",[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"内存:",prop:"brand"}},[i("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.order.asset.adv.memory,callback:function(t){e.$set(e.order.asset.adv,"memory",t)},expression:"order.asset.adv.memory"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"屏幕尺寸:",prop:"brand"}},[i("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.order.asset.adv.screenSize,callback:function(t){e.$set(e.order.asset.adv,"screenSize",t)},expression:"order.asset.adv.screenSize"}})],1)],1)],1)],1),i("el-form",{directives:[{name:"show",rawName:"v-show",value:"交换机"==e.order.asset.type,expression:"order.asset.type=='交换机'"}],ref:"orderForm",attrs:{model:e.order.asset.adv,rules:e.rules}},[i("el-row",[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"接口数:",prop:"brand"}},[i("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.order.asset.adv.nums,callback:function(t){e.$set(e.order.asset.adv,"nums",t)},expression:"order.asset.adv.nums"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"类型:",prop:"type"}},[i("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.order.asset.adv.type,callback:function(t){e.$set(e.order.asset.adv,"type",t)},expression:"order.asset.adv.type"}})],1)],1)],1)],1),i("el-form",{directives:[{name:"show",rawName:"v-show",value:"主机"==e.order.asset.type,expression:"order.asset.type=='主机'"}],ref:"orderForm",attrs:{model:e.order.asset.adv,rules:e.rules}},[i("el-row",[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"cpu:",prop:"cpu"}},[i("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.order.asset.adv.cpu,callback:function(t){e.$set(e.order.asset.adv,"cpu",t)},expression:"order.asset.adv.cpu"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"内存:",prop:"memory"}},[i("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.order.asset.adv.memory,callback:function(t){e.$set(e.order.asset.adv,"memory",t)},expression:"order.asset.adv.memory"}})],1)],1)],1)],1),i("el-form",{directives:[{name:"show",rawName:"v-show",value:"测距仪"==e.order.asset.type,expression:"order.asset.type=='测距仪'"}],ref:"orderForm",attrs:{model:e.order.asset.adv,rules:e.rules}},[i("el-row",[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"精度:",prop:"brand"}},[i("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.order.asset.adv.precision,callback:function(t){e.$set(e.order.asset.adv,"precision",t)},expression:"order.asset.adv.precision"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"距离:",prop:"brand"}},[i("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.order.asset.adv.distance,callback:function(t){e.$set(e.order.asset.adv,"distance",t)},expression:"order.asset.adv.distance"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"方式:",prop:"brand"}},[i("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.order.asset.adv.methods,callback:function(t){e.$set(e.order.asset.adv,"methods",t)},expression:"order.asset.adv.methods"}})],1)],1)],1)],1)]:e._e()],2),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){return e.$emit("close")}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.doAddAsset}},[e._v("确 定")])],1)])},r=[],s={name:"AssetEdit",props:["order","title","dialogVisible","rules"],data:function(){return{options:[{value:"手机",label:"手机"},{value:"主机",label:"主机"},{value:"交换机",label:"交换机"},{value:"测距仪",label:"测距仪"}]}},methods:{doAddAsset:function(){var e=this;this.order.asset.id?this.$refs["orderForm"].validate((function(t){t&&e.putRequest("/order/basic/edit",e.order).then((function(t){t&&(e.$emit("close"),e.initOrders())}))})):this.$refs["orderForm"].validate((function(t){t&&e.postRequest("/order/basic/add",e.order).then((function(t){t&&(e.$emit("close"),e.$parent.initOrders())}))}))}}},n=s,l=i("2877"),o=Object(l["a"])(n,a,r,!1,null,"003f7c42",null);t["a"]=o.exports},"4e6f":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("Mine",{attrs:{orders:e.orders,showAdvanceSearchView:e.showAdvanceSearchView,total:e.total,page:e.page,size:e.size,loading:e.loading},on:{currentSize:e.sizeChange,currentPage:e.currentChange}}),i("AssetEdit",{attrs:{dialogVisible:e.dialogVisible,order:e.order,title:e.title,rules:e.rules},on:{close:function(t){e.dialogVisible=!1}}}),i("AssetDetail",{attrs:{dialogVisible2:e.dialogVisible2,order:e.order,title:e.title,candidateBranches:e.candidateBranches,rules:e.rules},on:{close:function(t){e.dialogVisible2=!1}}})],1)},r=[],s=(i("7f7f"),i("5c8f")),n=i("4ca5"),l=i("9742"),o={name:"MyAppy",data:function(){return{searchValue:{type:null,nationId:null,jobLevelId:null,posId:null,engageForm:null,departmentId:null,beginDateScope:null},title:"",importDataBtnText:"导入数据",importDataBtnIcon:"el-icon-upload2",importDataDisabled:!1,showAdvanceSearchView:!1,allDeps:[],orders:[],loading:!1,popVisible:!1,popVisible2:!1,dialogVisible:!1,dialogVisible2:!1,total:0,page:1,keyword:"",size:10,nations:[],joblevels:[],candidateBranches:{},tiptopDegrees:["本科","大专","硕士","博士","高中","初中","小学","其他"],inputDepName:"所属部门",order:{id:"",category:"",categoryName:"",status:"",duration:"",reason:"测试",applicant:"胡宏建",applicantPhone:"18840833079",applicantEmail:"admin",createTime:"",asset:{id:"",brand:"华为",type:"手机",price:"4000",adv:{}}},defaultProps:{children:"children",label:"name"},rules:{name:[{required:!0,message:"请输入用户名",trigger:"blur"}],gender:[{required:!0,message:"请输入性别",trigger:"blur"}],birthday:[{required:!0,message:"请输入出生日期",trigger:"blur"}],idCard:[{required:!0,message:"请输入身份证号码",trigger:"blur"},{pattern:/(^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$)|(^[1-9]\d{5}\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{2}$)/,message:"身份证号码格式不正确",trigger:"blur"}],wedlock:[{required:!0,message:"请输入婚姻状况",trigger:"blur"}],nationId:[{required:!0,message:"请输入您组",trigger:"blur"}],nativePlace:[{required:!0,message:"请输入籍贯",trigger:"blur"}],politicId:[{required:!0,message:"请输入政治面貌",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"邮箱格式不正确",trigger:"blur"}],phone:[{required:!0,message:"请输入电话号码",trigger:"blur"}],address:[{required:!0,message:"请输入员工地址",trigger:"blur"}],departmentId:[{required:!0,message:"请输入部门名称",trigger:"blur"}],jobLevelId:[{required:!0,message:"请输入职称",trigger:"blur"}],posId:[{required:!0,message:"请输入职位",trigger:"blur"}],engageForm:[{required:!0,message:"请输入聘用形式",trigger:"blur"}],tiptopDegree:[{required:!0,message:"请输入学历",trigger:"blur"}],specialty:[{required:!0,message:"请输入专业",trigger:"blur"}],school:[{required:!0,message:"请输入毕业院校",trigger:"blur"}],beginDate:[{required:!0,message:"请输入入职日期",trigger:"blur"}],workState:[{required:!0,message:"请输入工作状态",trigger:"blur"}],workID:[{required:!0,message:"请输入工号",trigger:"blur"}],contractTerm:[{required:!0,message:"请输入合同期限",trigger:"blur"}],conversionTime:[{required:!0,message:"请输入转正日期",trigger:"blur"}],notworkDate:[{required:!0,message:"请输入离职日期",trigger:"blur"}],beginContract:[{required:!0,message:"请输入合同起始日期",trigger:"blur"}],endContract:[{required:!0,message:"请输入合同结束日期",trigger:"blur"}],workAge:[{required:!0,message:"请输入工龄",trigger:"blur"}]}}},components:{Mine:l["a"],AssetDetail:s["a"],AssetEdit:n["a"]},mounted:function(){this.initOrders()},methods:{searvhViewHandleNodeClick:function(e){this.inputDepName=e.name,this.searchValue.departmentId=e.id,this.popVisible2=!this.popVisible2},onError:function(e,t,i){this.importDataBtnText="导入数据",this.importDataBtnIcon="el-icon-upload2",this.importDataDisabled=!1},onSuccess:function(e,t,i){this.importDataBtnText="导入数据",this.importDataBtnIcon="el-icon-upload2",this.importDataDisabled=!1,this.initEmps()},beforeUpload:function(){this.importDataBtnText="正在导入",this.importDataBtnIcon="el-icon-loading",this.importDataDisabled=!0},exportData:function(){window.open("/employee/basic/export","_parent")},emptyAsset:function(){this.asset={id:"",brand:"华为",type:"手机",price:"4000",applicant:"胡宏建",applicantPhone:"18840833079",applicantEmail:"admin",reason:"测试",adv:{}},this.inputDepName=""},showEditEmpView:function(e){this.title="编辑资产信息",this.order=e,this.dialogVisible=!0},showDetailView:function(e){this.title="资产详情",this.order=e,this.dialogVisible2=!0},getCandidateBranchInfo:function(e){var t=this;this.getRequest("/order/task/getCandidateTaskBranchInfo?id="+e.id).then((function(i){i&&(t.candidateBranches=i.obj,t.showDetailView(e))}))},deleteEmp:function(e){var t=this;this.$confirm("此操作将永久删除【"+e.name+"】, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.deleteRequest("/employee/basic/"+e.id).then((function(e){e&&t.initEmps()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},handleNodeClick:function(e){this.inputDepName=e.name,this.emp.departmentId=e.id,this.popVisible=!this.popVisible},showDepView:function(){this.popVisible=!this.popVisible},showDepView2:function(){this.popVisible2=!this.popVisible2},sizeChange:function(e){this.size=e,this.initOrders()},currentChange:function(e){this.page=e,this.initOrders("advanced")},showAddEmpView:function(){this.emptyAsset(),this.title="资产采购申请",this.dialogVisible=!0},initOrders:function(e){var t=this;this.loading=!0;var i="/order/task/getMyApply/?page="+this.page+"&size="+this.size;e&&"advanced"==e?(this.searchValue.politicId&&(i+="&politicId="+this.searchValue.politicId),this.searchValue.nationId&&(i+="&nationId="+this.searchValue.nationId),this.searchValue.jobLevelId&&(i+="&jobLevelId="+this.searchValue.jobLevelId),this.searchValue.posId&&(i+="&posId="+this.searchValue.posId),this.searchValue.engageForm&&(i+="&engageForm="+this.searchValue.engageForm),this.searchValue.departmentId&&(i+="&departmentId="+this.searchValue.departmentId),this.searchValue.beginDateScope&&(i+="&beginDateScope="+this.searchValue.beginDateScope)):i+="&name="+this.keyword,this.getRequest(i).then((function(e){t.loading=!1,e&&(t.orders=e.data,t.total=e.total)}))}}},d=o,c=(i("c5fe"),i("2877")),p=Object(c["a"])(d,a,r,!1,null,null,null);t["default"]=p.exports},"5c8f":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-dialog",{attrs:{title:e.title,visible:e.dialogVisible2,width:"80%"},on:{"update:visible":function(t){e.dialogVisible2=t}}},[i("div",[i("el-form",{ref:"assetForm",attrs:{model:e.order.asset,rules:e.rules}},[i("el-row",[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"品牌:",prop:"brand"}},[e._v("\n              "+e._s(e.order.asset.brand)+"\n            ")])],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"类型:",prop:"type"}},[e._v("\n              "+e._s(e.order.asset.type)+"\n            ")])],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"价格:",prop:"price"}},[e._v("\n              "+e._s(e.order.asset.price)+"\n            ")])],1)],1),i("el-row",[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"申请人:",prop:"applicant"}},[e._v("\n              "+e._s(e.order.applicant)+"\n            ")])],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"电话:",prop:"applicantPhone"}},[e._v("\n              "+e._s(e.order.applicantPhone)+"\n            ")])],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"邮件:",prop:"applicantEmail"}},[e._v("\n              "+e._s(e.order.applicantEmail)+"\n            ")])],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"理由:",prop:"reason"}},[e._v(e._s(e.order.reason))])],1)],1)],1),e.order.asset.adv?[i("el-form",{directives:[{name:"show",rawName:"v-show",value:"手机"==e.order.asset.type,expression:"order.asset.type=='手机'"}],ref:"orderForm",attrs:{model:e.order.asset.adv,rules:e.rules}},[i("el-row",[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"内存:",prop:"memory"}},[e._v("\n                "+e._s(e.order.asset.adv.memory)+"\n              ")])],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"屏幕尺寸:",prop:"screenSize"}},[e._v("\n                "+e._s(e.order.asset.adv.screenSize)+"\n              ")])],1)],1)],1)]:e._e()],2),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},["已入库"==e.order.status&&e.out?i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.borrow()}}},[e._v("借用")]):e._e(),e._l(e.candidateBranches.operateList,(function(t){return[i("el-button",{attrs:{type:"primary"},on:{click:function(i){return e.checkAndHandle(t.operateType)}}},[e._v(e._s(t.operate))])]})),i("el-button",{on:{click:function(t){return e.$emit("close")}}},[e._v("取 消")])],2)]),i("el-dialog",{attrs:{visible:e.visible,width:"30%"},on:{"update:visible":function(t){e.visible=t}}},[i("el-form",{ref:"transForm",attrs:{model:e.taskHandleDto,rules:e.rules}},[i("el-row",{staticStyle:{margin:"0 auto",width:"300px"}},[i("el-form-item",{attrs:{label:"转交至:"}})],1),i("el-row",{staticStyle:{margin:"0 auto",width:"300px"}},[i("el-form-item",{attrs:{label:"姓名:"}},[i("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1)],1),i("el-row",{staticStyle:{margin:"0 auto",width:"300px"}},[i("el-form-item",{attrs:{label:"邮箱:",prop:"candidateUser"}},[i("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.taskHandleDto.candidateUser,callback:function(t){e.$set(e.taskHandleDto,"candidateUser",t)},expression:"taskHandleDto.candidateUser"}})],1)],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handle()}}},[e._v("转交")]),i("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取 消")])],1)],1)],1)},r=[],s={name:"AssetDetail",props:["out","order","title","dialogVisible2","candidateBranches","rules"],data:function(){return{visible:!1,name:"",taskHandleDto:{id:null,operateType:null,candidateUser:null}}},methods:{handle:function(){var e=this;this.taskHandleDto.id=this.order.id,this.postRequest("/order/task/handleTask",this.taskHandleDto).then((function(t){t&&(e.visible=!1,e.$emit("close"),e.$parent.initOrders())}))},checkAndHandle:function(e){this.taskHandleDto.operateType=e,"5"==e?this.visible=!0:this.handle()},borrow:function(){var e=this;this.postRequest("/order/basic/borrow",this.order).then((function(t){t&&(e.$parent.initOrders(),e.$emit("close"))}))}}},n=s,l=i("2877"),o=Object(l["a"])(n,a,r,!1,null,"0b6801ec",null);t["a"]=o.exports},"858a":function(e,t,i){},"8ce2":function(e,t,i){},"8e88":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("Mine",{attrs:{orders:e.orders,showAdvanceSearchView:e.showAdvanceSearchView,total:e.total,page:e.page,size:e.size,loading:e.loading},on:{currentSize:e.sizeChange,currentPage:e.currentChange}}),i("AssetEdit",{attrs:{dialogVisible:e.dialogVisible,order:e.order,title:e.title,rules:e.rules},on:{close:function(t){e.dialogVisible=!1}}}),i("AssetDetail",{attrs:{dialogVisible2:e.dialogVisible2,order:e.order,title:e.title,candidateBranches:e.candidateBranches,rules:e.rules},on:{close:function(t){e.dialogVisible2=!1}}})],1)},r=[],s=(i("7f7f"),i("5c8f")),n=i("4ca5"),l=i("9742"),o={name:"MyOut",data:function(){return{searchValue:{type:null,nationId:null,jobLevelId:null,posId:null,engageForm:null,departmentId:null,beginDateScope:null},title:"",importDataBtnText:"导入数据",importDataBtnIcon:"el-icon-upload2",importDataDisabled:!1,showAdvanceSearchView:!1,allDeps:[],orders:[],loading:!1,popVisible:!1,popVisible2:!1,dialogVisible:!1,dialogVisible2:!1,total:0,page:1,keyword:"",size:10,nations:[],joblevels:[],types:[{id:1,name:"手机"},{id:2,name:"主机"},{id:3,name:"交换机"},{id:4,name:"测距仪"}],statuses:[{id:0,name:"申请采购"},{id:0,name:"审批通过"},{id:0,name:"审批未通过"}],candidateBranches:{},tiptopDegrees:["本科","大专","硕士","博士","高中","初中","小学","其他"],inputDepName:"所属部门",order:{id:"",category:"",categoryName:"",status:"",duration:"",reason:"测试",applicant:"胡宏建",applicantPhone:"18840833079",applicantEmail:"admin",createTime:"",asset:{id:"",brand:"华为",type:"手机",price:"4000",adv:{}}},defaultProps:{children:"children",label:"name"},rules:{name:[{required:!0,message:"请输入用户名",trigger:"blur"}],gender:[{required:!0,message:"请输入性别",trigger:"blur"}],birthday:[{required:!0,message:"请输入出生日期",trigger:"blur"}],idCard:[{required:!0,message:"请输入身份证号码",trigger:"blur"},{pattern:/(^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$)|(^[1-9]\d{5}\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{2}$)/,message:"身份证号码格式不正确",trigger:"blur"}],wedlock:[{required:!0,message:"请输入婚姻状况",trigger:"blur"}],nationId:[{required:!0,message:"请输入您组",trigger:"blur"}],nativePlace:[{required:!0,message:"请输入籍贯",trigger:"blur"}],politicId:[{required:!0,message:"请输入政治面貌",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"邮箱格式不正确",trigger:"blur"}],phone:[{required:!0,message:"请输入电话号码",trigger:"blur"}],address:[{required:!0,message:"请输入员工地址",trigger:"blur"}],departmentId:[{required:!0,message:"请输入部门名称",trigger:"blur"}],jobLevelId:[{required:!0,message:"请输入职称",trigger:"blur"}],posId:[{required:!0,message:"请输入职位",trigger:"blur"}],engageForm:[{required:!0,message:"请输入聘用形式",trigger:"blur"}],tiptopDegree:[{required:!0,message:"请输入学历",trigger:"blur"}],specialty:[{required:!0,message:"请输入专业",trigger:"blur"}],school:[{required:!0,message:"请输入毕业院校",trigger:"blur"}],beginDate:[{required:!0,message:"请输入入职日期",trigger:"blur"}],workState:[{required:!0,message:"请输入工作状态",trigger:"blur"}],workID:[{required:!0,message:"请输入工号",trigger:"blur"}],contractTerm:[{required:!0,message:"请输入合同期限",trigger:"blur"}],conversionTime:[{required:!0,message:"请输入转正日期",trigger:"blur"}],notworkDate:[{required:!0,message:"请输入离职日期",trigger:"blur"}],beginContract:[{required:!0,message:"请输入合同起始日期",trigger:"blur"}],endContract:[{required:!0,message:"请输入合同结束日期",trigger:"blur"}],workAge:[{required:!0,message:"请输入工龄",trigger:"blur"}]}}},components:{AssetDetail:s["a"],AssetEdit:n["a"],Mine:l["a"]},mounted:function(){this.initOrders()},methods:{searvhViewHandleNodeClick:function(e){this.inputDepName=e.name,this.searchValue.departmentId=e.id,this.popVisible2=!this.popVisible2},onError:function(e,t,i){this.importDataBtnText="导入数据",this.importDataBtnIcon="el-icon-upload2",this.importDataDisabled=!1},onSuccess:function(e,t,i){this.importDataBtnText="导入数据",this.importDataBtnIcon="el-icon-upload2",this.importDataDisabled=!1,this.initOrders()},beforeUpload:function(){this.importDataBtnText="正在导入",this.importDataBtnIcon="el-icon-loading",this.importDataDisabled=!0},exportData:function(){window.open("/employee/basic/export","_parent")},emptyAsset:function(){this.asset={id:"",brand:"华为",type:"手机",price:"4000",applicant:"胡宏建",applicantPhone:"18840833079",applicantEmail:"admin",reason:"测试",adv:{}},this.inputDepName=""},showEditEmpView:function(e){this.title="编辑资产信息",this.asset=e,this.dialogVisible=!0},showDetailView:function(e){this.title="资产详情",this.asset=e,this.dialogVisible2=!0},getCandidateBranchInfo:function(e){var t=this;this.getRequest("/asset/task/getCandidateTaskBranchInfo?id="+e.id).then((function(i){i&&(t.candidateBranches=i.obj,t.showDetailView(e))}))},deleteEmp:function(e){var t=this;this.$confirm("此操作将永久删除【"+e.name+"】, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.deleteRequest("/employee/basic/"+e.id).then((function(e){e&&t.initOrders()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},handleNodeClick:function(e){this.inputDepName=e.name,this.emp.departmentId=e.id,this.popVisible=!this.popVisible},showDepView:function(){this.popVisible=!this.popVisible},showDepView2:function(){this.popVisible2=!this.popVisible2},sizeChange:function(e){this.size=e,this.initOrders()},currentChange:function(e){this.page=e,this.initOrders("advanced")},showAddEmpView:function(){this.emptyAsset(),this.title="资产采购申请",this.dialogVisible=!0},initOrders:function(e){var t=this;this.loading=!0;var i="/order/basic/get/?category=3&page="+this.page+"&size="+this.size;e&&"advanced"==e?(this.searchValue.politicId&&(i+="&politicId="+this.searchValue.politicId),this.searchValue.nationId&&(i+="&nationId="+this.searchValue.nationId),this.searchValue.jobLevelId&&(i+="&jobLevelId="+this.searchValue.jobLevelId),this.searchValue.posId&&(i+="&posId="+this.searchValue.posId),this.searchValue.engageForm&&(i+="&engageForm="+this.searchValue.engageForm),this.searchValue.departmentId&&(i+="&departmentId="+this.searchValue.departmentId),this.searchValue.beginDateScope&&(i+="&beginDateScope="+this.searchValue.beginDateScope)):i+="&name="+this.keyword,this.getRequest(i).then((function(e){t.loading=!1,e&&(t.orders=e.data,t.total=e.total)}))}}},d=o,c=(i("f2b5"),i("2877")),p=Object(c["a"])(d,a,r,!1,null,null,null);t["default"]=p.exports},9742:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",[i("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[e._m(0),i("div",[i("el-input",{staticStyle:{width:"350px","margin-right":"10px"},attrs:{placeholder:"请输入资产名称进行搜索，可以直接回车搜索...","prefix-icon":"el-icon-search",clearable:"",disabled:e.showAdvanceSearchView},on:{clear:e.initOrders},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.initOrders(t)}},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),i("el-button",{attrs:{icon:"el-icon-search",type:"primary",disabled:e.showAdvanceSearchView},on:{click:e.initOrders}},[e._v("\n          搜索\n        ")]),i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.showAdvanceSearchView=!e.showAdvanceSearchView}}},[i("i",{class:e.showAdvanceSearchView?"fa fa-angle-double-up":"fa fa-angle-double-down",attrs:{"aria-hidden":"true"}}),e._v("\n          高级搜索\n        ")])],1)]),i("transition",{attrs:{name:"slide-fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.showAdvanceSearchView,expression:"showAdvanceSearchView"}],staticStyle:{border:"1px solid #409eff","border-radius":"5px","box-sizing":"border-box",padding:"5px",margin:"10px 0px"}},[i("el-row",[i("el-col",{attrs:{span:5}},[e._v("\n            类型:\n            "),i("el-select",{staticStyle:{width:"130px"},attrs:{placeholder:"类型",size:"mini"},model:{value:e.searchValue.type,callback:function(t){e.$set(e.searchValue,"type",t)},expression:"searchValue.type"}},e._l(e.types,(function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),i("el-col",{attrs:{span:4}},[e._v("\n            品牌:\n            "),i("el-input",{staticStyle:{width:"100px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.searchValue.brand,callback:function(t){e.$set(e.searchValue,"brand",t)},expression:"searchValue.brand"}})],1),i("el-col",{attrs:{span:4}},[e._v("\n            状态:\n            "),i("el-select",{staticStyle:{width:"130px"},attrs:{placeholder:"状态",size:"mini"},model:{value:e.searchValue.status,callback:function(t){e.$set(e.searchValue,"status",t)},expression:"searchValue.status"}},e._l(e.statuses,(function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),i("el-col",{attrs:{span:4}},[e._v("\n            申请人:\n            "),i("el-input",{staticStyle:{width:"100px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.searchValue.applicant,callback:function(t){e.$set(e.searchValue,"applicant",t)},expression:"searchValue.applicant"}})],1),i("el-col",{attrs:{span:4}},[e._v("\n            申请人邮箱:\n            "),i("el-input",{staticStyle:{width:"100px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.searchValue.applicantEmail,callback:function(t){e.$set(e.searchValue,"applicantEmail",t)},expression:"searchValue.applicantEmail"}})],1)],1),i("el-row",{staticStyle:{"margin-top":"10px"}},[i("el-col",{attrs:{span:6}},[e._v("\n            价格:\n            "),i("el-input",{staticStyle:{width:"100px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.searchValue.priceLow,callback:function(t){e.$set(e.searchValue,"priceLow",t)},expression:"searchValue.priceLow"}}),e._v("\n            至:\n            "),i("el-input",{staticStyle:{width:"100px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.searchValue.priceHigh,callback:function(t){e.$set(e.searchValue,"priceHigh",t)},expression:"searchValue.priceHigh"}})],1),i("el-col",{attrs:{span:9}},[e._v("\n            入职日期:\n            "),i("el-date-picker",{attrs:{type:"daterange",size:"mini","unlink-panels":"","value-format":"yyyy-MM-dd","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.searchValue.beginDateScope,callback:function(t){e.$set(e.searchValue,"beginDateScope",t)},expression:"searchValue.beginDateScope"}})],1),i("el-col",{attrs:{span:5,offset:3}},[i("el-button",{attrs:{size:"mini"}},[e._v("取消")]),i("el-button",{attrs:{size:"mini",icon:"el-icon-search",type:"primary"},on:{click:function(t){return e.initEmps("advanced")}}},[e._v("搜索")])],1)],1)],1)])],1),i("div",{staticStyle:{"margin-top":"10px"}},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.orders,stripe:"",border:"","element-loading-text":"正在加载...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[i("el-table-column",{attrs:{type:"selection",width:"55"}}),i("el-table-column",{attrs:{fixed:"",label:"ID",align:"left",width:"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{size:"mini"},on:{click:function(i){return e.getCandidateBranchInfo(t.row)}}},[e._v(e._s(t.row.id)+"\n          ")])]}}])}),i("el-table-column",{attrs:{prop:"categoryName",align:"left",label:"流程",width:"90"}}),i("el-table-column",{attrs:{prop:"status",label:"状态",width:"90"}}),i("el-table-column",{attrs:{prop:"duration",label:"用时",width:"90"}}),i("el-table-column",{attrs:{prop:"reason",label:"理由"}}),i("el-table-column",{attrs:{prop:"applicant",width:"95",align:"left",label:"申请人"}}),i("el-table-column",{attrs:{prop:"applicantEmail",width:"150",align:"left",label:"申请人邮箱"}}),i("el-table-column",{attrs:{prop:"applicantPhone",width:"100",label:"申请人电话"}}),i("el-table-column",{attrs:{prop:"createTime",align:"left",label:"申请时间",width:"180"}}),i("el-table-column",{attrs:{prop:"updateTime",align:"left",label:"更新时间",width:"180"}})],1),i("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[i("el-pagination",{attrs:{background:"",layout:"sizes, prev, pager, next, jumper, ->, total, slot",total:e.total},on:{"current-change":e.currentChange,"size-change":e.sizeChange}})],1)],1)])},r=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("p",{staticStyle:{display:"inline-flex","margin-left":"8px"}})])}],s={name:"Mine",props:["orders","showAdvanceSearchView","rules","total","page","size","loading"],data:function(){return{keyword:"",searchValue:{type:null,nationId:null,jobLevelId:null,posId:null,engageForm:null,departmentId:null,beginDateScope:null},types:[{id:1,name:"手机"},{id:2,name:"主机"},{id:3,name:"交换机"},{id:4,name:"测距仪"}],statuses:[{id:0,name:"申请采购"},{id:0,name:"审批通过"},{id:0,name:"审批未通过"}]}},methods:{sizeChange:function(e){this.$emit("currentSize",e)},currentChange:function(e){this.$emit("currentPage",e)},initOrders:function(e){this.$parent.initOrders(e)},getCandidateBranchInfo:function(e){this.$parent.getCandidateBranchInfo(e)}}},n=s,l=i("2877"),o=Object(l["a"])(n,a,r,!1,null,"59cf4922",null);t["a"]=o.exports},c5fe:function(e,t,i){"use strict";var a=i("8ce2"),r=i.n(a);r.a},e85a:function(e,t,i){},eb05:function(e,t,i){"use strict";var a=i("e85a"),r=i.n(a);r.a},f2b5:function(e,t,i){"use strict";var a=i("858a"),r=i.n(a);r.a}}]);
//# sourceMappingURL=chunk-65f35047.5b58507b.js.map